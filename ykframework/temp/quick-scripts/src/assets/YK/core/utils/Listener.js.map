{"version":3,"sources":["assets\\YK\\core\\utils\\Listener.ts"],"names":[],"mappings":";;;;;AAAA;IACI,cAAY,IAAc,EAAE,OAAY;QAAE,kBAAkB;aAAlB,UAAkB,EAAlB,qBAAkB,EAAlB,IAAkB;YAAlB,iCAAkB;;QACxD,IAAI,CAAC,IAAI,GAAG,IAAI,CAAC;QACjB,IAAI,CAAC,OAAO,GAAG,OAAO,CAAC;IAC3B,CAAC;IAEM,WAAM,GAAb,UAAc,IAAI,EAAE,OAAO;QAAE,kBAAkB;aAAlB,UAAkB,EAAlB,qBAAkB,EAAlB,IAAkB;YAAlB,iCAAkB;;QAC3C,IAAI,CAAC,QAAO,IAAI,YAAJ,IAAI,WAAC,IAAI,EAAE,OAAO,SAAK,QAAQ,KAAC,CAAC;QAC7C,OAAO,CAAC,CAAC;IACb,CAAC;IAKD,kBAAG,GAAH;QAAI,kBAAkB;aAAlB,UAAkB,EAAlB,qBAAkB,EAAlB,IAAkB;YAAlB,6BAAkB;;;QAClB,OAAO,CAAA,KAAA,IAAI,CAAC,IAAI,CAAA,CAAC,IAAI,YAAC,IAAI,CAAC,OAAO,SAAK,QAAQ,GAAE;IACrD,CAAC;IACL,WAAC;AAAD,CAjBA,AAiBC,IAAA;AAjBY,oBAAI;AAmBjB;IAAA;QACI,SAAI,GAAgB,IAAI,KAAK,EAAQ,CAAC;IAqC1C,CAAC;IAnCU,eAAM,GAAb,UAAc,IAAI,EAAE,OAAc;QAAd,wBAAA,EAAA,cAAc;QAC9B,IAAI,QAAQ,GAAG,IAAI,QAAQ,EAAE,CAAC;QAC9B,QAAQ,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC;QAC5B,OAAO,QAAQ,CAAC;IACpB,CAAC;IAED,sBAAG,GAAH,UAAI,IAAc,EAAE,OAAc;QAAd,wBAAA,EAAA,cAAc;QAC9B,IAAI,CAAC,IAAI,CAAC,GAAG,CAAC,IAAI,EAAE,OAAO,CAAC,EAAE;YAC1B,IAAI,CAAC,IAAI,CAAC,IAAI,CAAC,IAAI,IAAI,CAAC,IAAI,EAAE,OAAO,CAAC,CAAC,CAAC;SAC3C;IAEL,CAAC;IAED,yBAAM,GAAN,UAAO,IAAI,EAAE,OAAc;QAAd,wBAAA,EAAA,cAAc;QACvB,KAAK,IAAI,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,GAAG,CAAC,EAAE,CAAC,IAAI,CAAC,EAAE,CAAC,EAAE,EAAE;YAC5C,IAAI,GAAG,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACvB,IAAI,GAAG,CAAC,IAAI,IAAI,IAAI,IAAI,GAAG,CAAC,OAAO,IAAI,OAAO,EAAE;gBAC5C,IAAI,CAAC,IAAI,CAAC,MAAM,CAAC,CAAC,EAAE,CAAC,CAAC,CAAC;gBACvB,MAAM;aACT;SACJ;IACL,CAAC;IAED,sBAAG,GAAH,UAAI,IAAc,EAAE,OAAY;QAC5B,OAAO,IAAI,CAAC,IAAI,CAAC,SAAS,CAAC,UAAA,CAAC,IAAI,OAAA,CAAC,CAAC,OAAO,IAAI,OAAO,IAAI,CAAC,CAAC,IAAI,IAAI,IAAI,EAAtC,CAAsC,CAAC,IAAI,CAAC,CAAC,CAAC;IAElF,CAAC;IAGD,sBAAG,GAAH;QAAI,cAAc;aAAd,UAAc,EAAd,qBAAc,EAAd,IAAc;YAAd,yBAAc;;;QACd,KAAK,IAAI,CAAC,GAAG,CAAC,EAAE,CAAC,GAAG,IAAI,CAAC,IAAI,CAAC,MAAM,EAAE,CAAC,EAAE,EAAE;YACvC,IAAI,IAAI,GAAG,IAAI,CAAC,IAAI,CAAC,CAAC,CAAC,CAAC;YACxB,CAAA,KAAA,IAAI,CAAC,IAAI,CAAA,CAAC,IAAI,YAAC,IAAI,CAAC,OAAO,SAAK,IAAI,GAAE;SACzC;IACL,CAAC;IACL,eAAC;AAAD,CAtCA,AAsCC,IAAA;AAtCY,4BAAQ","file":"","sourceRoot":"/","sourcesContent":["export class Func {\r\n    constructor(func: Function, thisObj: any, ...argArray: any[]) {\r\n        this.func = func;\r\n        this.thisObj = thisObj;\r\n    }\r\n\r\n    static create(func, thisObj, ...argArray: any[]): Func {\r\n        let f = new Func(func, thisObj, ...argArray);\r\n        return f;\r\n    }\r\n\r\n    public func: Function;\r\n    public thisObj: any;\r\n\r\n    run(...argArray: any[]) {\r\n        return this.func.call(this.thisObj, ...argArray);\r\n    }\r\n}\r\n\r\nexport class Listener {\r\n    func: Array<Func> = new Array<Func>();\r\n\r\n    static create(func, thisObj = null): Listener {\r\n        let listener = new Listener();\r\n        listener.add(func, thisObj);\r\n        return listener;\r\n    }\r\n\r\n    add(func: Function, thisObj = null) {\r\n        if (!this.has(func, thisObj)) {\r\n            this.func.push(new Func(func, thisObj));\r\n        }\r\n\r\n    }\r\n\r\n    remove(func, thisObj = null) {\r\n        for (let i = this.func.length - 1; i >= 0; i--) {\r\n            let fun = this.func[i];\r\n            if (fun.func == func && fun.thisObj == thisObj) {\r\n                this.func.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    has(func: Function, thisObj: any): boolean {\r\n        return this.func.findIndex(a => a.thisObj == thisObj && a.func == func) != -1;\r\n\r\n    }\r\n\r\n\r\n    run(...args: any[]) {\r\n        for (let i = 0; i < this.func.length; i++) {\r\n            let func = this.func[i];\r\n            func.func.call(func.thisObj, ...args);\r\n        }\r\n    }\r\n}"]}