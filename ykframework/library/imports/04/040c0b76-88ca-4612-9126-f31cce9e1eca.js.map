{"version":3,"sources":["assets\\YK\\core\\utils\\Listener.ts"],"names":[],"mappings":"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","file":"","sourceRoot":"/","sourcesContent":["export class Func {\r\n\r\n    constructor(func, thisObj, ...args: any) {\r\n        this.func = func;\r\n        this.thisObj = thisObj;\r\n        this.args = args\r\n    }\r\n\r\n    static create(func, thisObj, ...args: any): Func {\r\n        let f = new Func(func, thisObj, ...args);\r\n        return f;\r\n    }\r\n\r\n    public args: any[];\r\n    public func: Function;\r\n    public readonly thisObj: any;\r\n\r\n    run(...args: any) {\r\n        if (args == null || args.length < 1) {\r\n            args = this.args;\r\n        }\r\n        return this.func.call(this.thisObj, ...args);\r\n    }\r\n}\r\n\r\nexport class Listener {\r\n    func: Array<Func> = new Array<Func>();\r\n\r\n    static create(func, thisObj = null): Listener {\r\n        let listener = new Listener();\r\n        listener.add(func, thisObj);\r\n        return listener;\r\n    }\r\n\r\n    add(func, thisObj = null, ...args: any) {\r\n        if (!this.has(func, thisObj)) {\r\n            this.func.push(new Func(func, thisObj, ...args));\r\n        }\r\n    }\r\n\r\n    remove(func, thisObj = null) {\r\n        for (let i = this.func.length - 1; i >= 0; i--) {\r\n            let fun = this.func[i];\r\n            if (fun.func == func && fun.thisObj == thisObj) {\r\n                this.func.splice(i, 1);\r\n                break;\r\n            }\r\n        }\r\n    }\r\n\r\n    has(func: Function, thisObj: any): boolean {\r\n        for (let i = this.func.length - 1; i >= 0; i--) {\r\n            let fun = this.func[i];\r\n            if (fun.func == func && fun.thisObj == thisObj) {\r\n                return true;\r\n            }\r\n        }\r\n        return false;\r\n    }\r\n\r\n\r\n    run(...args: any) {\r\n        for (let i = 0; i < this.func.length; i++) {\r\n            let func: Func = this.func[i];\r\n            func.run(...args)\r\n        }\r\n    }\r\n}"]}